/* Exported from KeYmaera X v4.7.4 */

Theorem "FourAgents_a3t2"
Description "Specification for four agents".

Definitions

/*  Real n = 3;
 /* Real delta = 10;
  Real commrange = 100.0;*/
  Real DL = 0;

  /*Function for calculating distance*/
  Real distance(Real x1, Real y1, Real x2, Real y2) = (((y1-y2)^2+(x1-x2)^2)^0.5);

/*  Real p1(Real j, Real k, Real newtransmitter, Real n) = abs(newtransmitter-j) + n + 1;
  Real p2(Real k, Real newtransmitter, Real n) = abs(newtransmitter-k) + n + 1;*/

  Real p1(Real j, Real newtransmitter) = newtransmitter - j + 2*n + 1; /* when j >= i_s*/
  Real p2(Real j, Real newtransmitter) = newtransmitter - j + n + 1; /* when j < i_s*/
  
/***************************************************************************************************************************************************************************************************************************/
 HP computea3t2 ::=
  {
    {
      {N3C1old:=N3C1; N3C2old:=N3C2; N3C4old:=N3C4;}
      {P3F1old:=P3F1; P3F2old:=P3F2; P3F4old:=P3F4;}
    }
    {
        {?(N3C2=1 & e3N2C3=1); N3C2bar:= N3C2; N3C1bar:= N3C1; N3C4bar:= N3C4;}
        ++ {?(N3C2=1 & e3N2C3=0); N3C2:=0; N3C2bar:= 0; N3C1bar:= N3C1; N3C4bar:= N3C4;}
        ++ {?(N3C2=0 & e3N2C3=1); N3C2:=1; N3C2bar:= 1; N3C1bar:= N3C1; N3C4bar:= N3C4;}
        ++ {?(N3C2=0 & e3N2C3=0); unchange3:=1;}
    }
/**********************************************************************************************************************************************************************************/
/**********************************************************************************************************************************************************************************/

{?(unchange3!=1);

    { 
      {
        ?(N3C1bar=1 & e3N1C3=1);      
        N3tilde1_2:= N3C2bar*e3N2C1*e3N1C2*e3N2C3;
        N3tilde1_4:= N3C4bar*e3N4C1*e3N1C4*e3N4C3;    
      } ++ 
      {
          ?(N3C1bar=1 & e3N1C3=0); 
          N3tilde1_2:=0;
          N3tilde1_4:=0;
      }  
    }
     /*{
      {
        ?(N3C1bar=1 & N3tilde1_2=1 & N3tilde1_4=1);
        pathdist321A := min(commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL), 
                            commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL));
        pathdist321B := commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL);
        pathdist341 := min(commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL), 
                            commrange - (distance(e3x4,e3y4,e3x1,e3y1) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL));
        {
        {?(pathdist321A >= pathdist341 & pathdist321A >= pathdist321B); pathdist321 := pathdist321A; P3F1:=0;} ++ 
        {?(pathdist321B >= pathdist341 & pathdist321B >= pathdist321A); pathdist321 := pathdist321B; P3F1:=1;} ++ 
        {?(pathdist341 >= pathdist321A & pathdist341 >= pathdist321B); pathdist321 := pathdist341; P3F1:=0;}     
        }
      } ++ 
      {
        ?(N3C1bar=1 & N3tilde1_2=1 & N3tilde1_4=0);
        pathdist321A := min(commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL), 
                            commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL));
        pathdist321B := commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL);
        {
        {?(pathdist321A > pathdist321B); pathdist321 := pathdist321A; P3F1:=0;} ++ 
        {?(pathdist321B >= pathdist321A); pathdist321 := pathdist321B; P3F1:=1;}      
        }
      } ++
      {
        ?(N3C1bar=1 & N3tilde1_2=0 & N3tilde1_4=1);
        pathdist321B := commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL);
        pathdist341 := min(commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL), 
                            commrange - (distance(e3x4,e3y4,e3x1,e3y1) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL));
        {
        {?(pathdist321B >= pathdist341); pathdist321 := pathdist321B; P3F1:=1;} ++ 
        {?(pathdist341 >= pathdist321B); pathdist321 := pathdist341; P3F1:=0;}     
        }
      } ++ 
      {
      ?(N3C1bar=1 &  N3tilde1_2=0 & N3tilde1_4=0); 
      pathdist321:= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL); P3F1:=1;
      } ++ 
      {?(N3C1bar=0); P3F1:=0;}
    }*/
    
    {
    {
            ?(
                (N3C1bar=1 & N3tilde1_2=1 & N3tilde1_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) <= commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) <= commrange - (distance(e3x4,e3y4,e3x1,e3y1) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL)) |
        (N3C1bar=1 & N3tilde1_2=1 & N3tilde1_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) <= commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) > commrange - (distance(e3x4,e3y4,e3x1,e3y1) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) >= commrange - (distance(e3x4,e3y4,e3x1,e3y1) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL)) |
        (N3C1bar=1 & N3tilde1_2=1 & N3tilde1_4=0 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) <= commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) > commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL))
            );
            pathdist321 := commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL);
            P3F1:=0;
        } ++
/**********************************************************************************************************************************************************************************/
        {
            ?(
                (N3C1bar=1 & N3tilde1_2=1 & N3tilde1_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) > commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) > commrange - (distance(e3x4,e3y4,e3x1,e3y1) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) >= commrange - (distance(e3x4,e3y4,e3x1,e3y1) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL)) |
        (N3C1bar=1 & N3tilde1_2=1 & N3tilde1_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) > commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) <= commrange - (distance(e3x4,e3y4,e3x1,e3y1) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) &
                commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL)) |
        (N3C1bar=1 & N3tilde1_2=1 & N3tilde1_4=0 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) > commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) > commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL))
            );
            pathdist321 := commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL);
            P3F1:=0;
        } ++
/**********************************************************************************************************************************************************************************/
        {
            ?(
                (N3C1bar=1 & N3tilde1_2=1 & N3tilde1_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) <= commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) <= commrange - (distance(e3x4,e3y4,e3x1,e3y1) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL)) |
        (N3C1bar=1 & N3tilde1_2=1 & N3tilde1_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) <= commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) > commrange - (distance(e3x4,e3y4,e3x1,e3y1) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) >= commrange - (distance(e3x4,e3y4,e3x1,e3y1) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL)) |
        (N3C1bar=1 & N3tilde1_2=1 & N3tilde1_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) > commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) > commrange - (distance(e3x4,e3y4,e3x1,e3y1) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) >= commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) >= commrange - (distance(e3x4,e3y4,e3x1,e3y1) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL)) |
        (N3C1bar=1 & N3tilde1_2=1 & N3tilde1_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) > commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) <= commrange - (distance(e3x4,e3y4,e3x1,e3y1) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) >= commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL)) |
        (N3C1bar=1 & N3tilde1_2=1 & N3tilde1_4=0 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) <= commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) <= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL)) | 
        (N3C1bar=1 & N3tilde1_2=1 & N3tilde1_4=0 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) > commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) <= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL)) |
        (N3C1bar=1 & N3tilde1_2=0 & N3tilde1_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) <= commrange - (distance(e3x4,e3y4,e3x1,e3y1) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) <= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL)) |
        (N3C1bar=1 & N3tilde1_2=0 & N3tilde1_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) > commrange - (distance(e3x4,e3y4,e3x1,e3y1) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x4,e3y4,e3x1,e3y1) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) <= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL)) |
        (N3C1bar=1 & N3tilde1_2=0 & N3tilde1_4=0)
            );
            pathdist321 := commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL);
            P3F1:=1;
        } ++
/**********************************************************************************************************************************************************************************/
        {
            ?(
                (N3C1bar=1 & N3tilde1_2=1 & N3tilde1_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) <= commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) <= commrange - (distance(e3x4,e3y4,e3x1,e3y1) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL)) |
        (N3C1bar=1 & N3tilde1_2=1 & N3tilde1_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) > commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) <= commrange - (distance(e3x4,e3y4,e3x1,e3y1) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) >= commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL)) |
        (N3C1bar=1 & N3tilde1_2=0 & N3tilde1_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) <= commrange - (distance(e3x4,e3y4,e3x1,e3y1) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) > commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL))
            );
            pathdist321 := commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL);
            P3F1:=0;
        } ++
/**********************************************************************************************************************************************************************************/  
        {
            ?(
                (N3C1bar=1 & N3tilde1_2=1 & N3tilde1_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) <= commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) > commrange - (distance(e3x4,e3y4,e3x1,e3y1) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x4,e3y4,e3x1,e3y1) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) &
                commrange - (distance(e3x4,e3y4,e3x1,e3y1) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL)) |
        (N3C1bar=1 & N3tilde1_2=1 & N3tilde1_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) > commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) > commrange - (distance(e3x4,e3y4,e3x1,e3y1) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x4,e3y4,e3x1,e3y1) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) >= commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x4,e3y4,e3x1,e3y1) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL)) |
        (N3C1bar=1 & N3tilde1_2=0 & N3tilde1_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) > commrange - (distance(e3x4,e3y4,e3x1,e3y1) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x4,e3y4,e3x1,e3y1) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) > commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL))
            );
            pathdist321 := commrange - (distance(e3x4,e3y4,e3x1,e3y1) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL);
            P3F1:=0;
        } ++
/**********************************************************************************************************************************************************************************/
        {
            ?(N3C1bar=0); P3F1:=0; pathdist321:=0;
        }
    }

/**********************************************************************************************************************************************************************************/
/**********************************************************************************************************************************************************************************/
    { 
      {
        ?(N3C2bar=1 & e3N2C3=1);      
        N3tilde2_1:= N3C1bar*e3N1C2*e3N2C1*e3N1C3;
        N3tilde2_4:= N3C4bar*e3N4C2*e3N2C4*e3N4C3;    
      } ++ 
      {
          ?(N3C2bar=1 & e3N2C3=0); 
          N3tilde2_1:=0;
          N3tilde2_4:=0;
      }  
    }
     /*{
      {
        ?(N3C2bar=1 & N3tilde2_1=1 & N3tilde2_4=1);
        pathdist312A := min(commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL), 
                            commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL));
        pathdist312B := commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL);
        pathdist342 := min(commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL), 
                            commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL));
        {
        {?(pathdist312A >= pathdist342 & pathdist312A >= pathdist312B); pathdist312 := pathdist312A; P3F2:=0;} ++ 
        {?(pathdist312B >= pathdist342 & pathdist312B >= pathdist312A); pathdist312 := pathdist312B; P3F2:=1;} ++ 
        {?(pathdist342 >= pathdist312A & pathdist342 >= pathdist312B); pathdist312 := pathdist342; P3F2:=0;}     
        }
      } ++ 
      {
        ?(N3C2bar=1 & N3tilde2_1=1 & N3tilde2_4=0);
        pathdist312A := min(commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL), 
                            commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL));
        pathdist312B := commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL);
         {
        {?(pathdist312A > pathdist312B); pathdist312 := pathdist312A; P3F2:=0;} ++ 
        {?(pathdist312B >= pathdist312A); pathdist312 := pathdist312B; P3F2:=1;}      
        }
      } ++
      {
        ?(N3C2bar=1 & N3tilde2_1=0 & N3tilde2_4=1);
        pathdist312B := commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL);
        pathdist342 := min(commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL), 
                            commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL));
        {
        {?(pathdist312B >= pathdist342); pathdist312 := pathdist312B; P3F2:=1;} ++ 
        {?(pathdist342 >= pathdist312B); pathdist312 := pathdist342; P3F2:=0;}     
        }
      } ++ 
      {
      ?(N3C2bar=1 &  N3tilde2_1=0 & N3tilde2_4=0); 
      pathdist312:= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL); P3F2:=1;
      } ++ 
      {?(N3C2bar=0); P3F2:=0;}
    }*/
    
    {
        {
            ?(
                (N3C2bar=1 & N3tilde2_1=1 & N3tilde2_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) <= commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) <= commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL)) |
        (N3C2bar=1 & N3tilde2_1=1 & N3tilde2_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) <= commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) > commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) >= commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL)) |
        (N3C2bar=1 & N3tilde2_1=1 & N3tilde2_4=0 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) <= commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) > commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL))
            );
            pathdist312 := commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL);
            P3F2:=0;
        } ++
/**********************************************************************************************************************************************************************************/  
        {
            ?(
                (N3C2bar=1 & N3tilde2_1=1 & N3tilde2_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) > commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) > commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) >= commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL)) |
        (N3C2bar=1 & N3tilde2_1=1 & N3tilde2_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) > commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) <= commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) &
                commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL)) |
        (N3C2bar=1 & N3tilde2_1=1 & N3tilde2_4=0 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) > commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) > commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL))
            );
            pathdist312 := commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL);
            P3F2:=0;
        } ++
/**********************************************************************************************************************************************************************************/
        {
            ?(
                (N3C2bar=1 & N3tilde2_1=1 & N3tilde2_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) <= commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) <= commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL)) |
        (N3C2bar=1 & N3tilde2_1=1 & N3tilde2_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) <= commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) > commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) >= commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL)) |
        (N3C2bar=1 & N3tilde2_1=1 & N3tilde2_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) > commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) > commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) >= commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) >= commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL)) |
        (N3C2bar=1 & N3tilde2_1=1 & N3tilde2_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) > commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) <= commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) >= commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL)) |
        (N3C2bar=1 & N3tilde2_1=1 & N3tilde2_4=0 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) <= commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) <= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL)) |
        (N3C2bar=1 & N3tilde2_1=1 & N3tilde2_4=0 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) > commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) <= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL)) |
        (N3C2bar=1 & N3tilde2_1=0 & N3tilde2_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) <= commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) <= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL)) |
        (N3C2bar=1 & N3tilde2_1=0 & N3tilde2_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) > commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) <= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL)) |
        (N3C2bar=1 & N3tilde2_1=0 & N3tilde2_4=0)
            );
            pathdist312 := commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL);
            P3F2:=1;
        } ++
/**********************************************************************************************************************************************************************************/
        {
            ?(
                (N3C2bar=1 & N3tilde2_1=1 & N3tilde2_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) <= commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) <= commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL)) |
        (N3C2bar=1 & N3tilde2_1=1 & N3tilde2_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) > commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) <= commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) >= commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL)) |
        (N3C2bar=1 & N3tilde2_1=0 & N3tilde2_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) <= commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) > commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL))
            );
            pathdist312 := commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL);
            P3F2:=0;
        } ++
/**********************************************************************************************************************************************************************************/  
        {
            ?(
                (N3C2bar=1 & N3tilde2_1=1 & N3tilde2_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) <= commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) > commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) &
                commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL)) |
        (N3C2bar=1 & N3tilde2_1=1 & N3tilde2_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) > commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) > commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) >= commrange - (distance(e3x1,e3y1,e3x2,e3y2) + p2(2,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL)) |
        (N3C2bar=1 & N3tilde2_1=0 & N3tilde2_4=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) > commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) > commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL))
            );
            pathdist312 := commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL);
            P3F2:=0;
        } ++
/**********************************************************************************************************************************************************************************/
        {
            ?(N3C2bar=0); P3F2:=0; pathdist312:=0;
        }
    }    


/**********************************************************************************************************************************************************************************/
/**********************************************************************************************************************************************************************************/
    { 
      {
        ?(N3C4bar=1 & e3N4C3=1);      
        N3tilde4_1:= N3C1bar*e3N1C4*e3N4C1*e3N1C3;
        N3tilde4_2:= N3C2bar*e3N2C4*e3N4C2*e3N2C3;    
      } ++ 
      {
          ?(N3C4bar=1 & e3N4C3=0); 
          N3tilde4_1:=0;
          N3tilde4_2:=0;
      }  
    }
    
     /*{
      {
        ?(N3C4bar=1 & N3tilde4_1=1 & N3tilde4_2=1);
        pathdist314A := min(commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL), 
                            commrange - (distance(e3x1,e3y1,e3x4,e3y4) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL));
        pathdist314B := commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL);
        pathdist324 := min(commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL), 
                            commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL));
        {
        {?(pathdist314A >= pathdist324 & pathdist314A >= pathdist314B); pathdist314 := pathdist314A; P3F4:=0;} ++ 
        {?(pathdist314B >= pathdist324 & pathdist314B >= pathdist314A); pathdist314 := pathdist314B; P3F4:=1;} ++ 
        {?(pathdist324 >= pathdist314A & pathdist324 >= pathdist314B); pathdist314 := pathdist324; P3F4:=0;}     
        }
      } ++ 
      {
        ?(N3C4bar=1 & N3tilde4_1=1 & N3tilde4_2=0);
        pathdist314A := min(commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL), 
                            commrange - (distance(e3x1,e3y1,e3x4,e3y4) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL));
        pathdist314B := commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL);
         {
        {?(pathdist314A > pathdist314B); pathdist314 := pathdist314A; P3F4:=0;} ++ 
        {?(pathdist314B >= pathdist314A); pathdist314 := pathdist314B; P3F4:=1;}      
        }
      } ++
      {
        ?(N3C4bar=1 & N3tilde4_1=0 & N3tilde4_2=1);
        pathdist314B := commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL);
        pathdist324 := min(commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL), 
                            commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL));
       {
        {?(pathdist314B >= pathdist324); pathdist314 := pathdist314B; P3F4:=1;} ++ 
        {?(pathdist324 >= pathdist314B); pathdist314 := pathdist324; P3F4:=0;}     
        }
      } ++ 
      {
      ?(N3C4bar=1 &  N3tilde4_1=0 & N3tilde4_2=0); 
      pathdist314:= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL); P3F4:=1;
      } ++ 
      {?(N3C4bar=0); P3F4:=0;}
    }*/

        {
        {
            ?(
                (N3C4bar=1 & N3tilde4_1=1 & N3tilde4_2=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) <= commrange - (distance(e3x1,e3y1,e3x4,e3y4) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) <= commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL)) |
        (N3C4bar=1 & N3tilde4_1=1 & N3tilde4_2=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) <= commrange - (distance(e3x1,e3y1,e3x4,e3y4) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) > commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) >= commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL)) |
        (N3C4bar=1 & N3tilde4_1=1 & N3tilde4_2=0 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) <= commrange - (distance(e3x1,e3y1,e3x4,e3y4) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) > commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL))
            );
            pathdist314 := commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL);
            P3F4:=0;
        } ++
/**********************************************************************************************************************************************************************************/  
        {
            ?(
                (N3C4bar=1 & N3tilde4_1=1 & N3tilde4_2=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) > commrange - (distance(e3x1,e3y1,e3x4,e3y4) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) > commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x1,e3y1,e3x4,e3y4) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) >= commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x1,e3y1,e3x4,e3y4) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL)) |
        (N3C4bar=1 & N3tilde4_1=1 & N3tilde4_2=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) > commrange - (distance(e3x1,e3y1,e3x4,e3y4) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) <= commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x1,e3y1,e3x4,e3y4) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) &
                commrange - (distance(e3x1,e3y1,e3x4,e3y4) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL)) |
        (N3C4bar=1 & N3tilde4_1=1 & N3tilde4_2=0 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) > commrange - (distance(e3x1,e3y1,e3x4,e3y4) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x1,e3y1,e3x4,e3y4) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) > commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL))
            );
            pathdist314 := commrange - (distance(e3x1,e3y1,e3x4,e3y4) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL);
            P3F4:=0;
        } ++
/**********************************************************************************************************************************************************************************/
        {
            ?(
                (N3C4bar=1 & N3tilde4_1=1 & N3tilde4_2=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) <= commrange - (distance(e3x1,e3y1,e3x4,e3y4) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) <= commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL)) |
        (N3C4bar=1 & N3tilde4_1=1 & N3tilde4_2=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) <= commrange - (distance(e3x1,e3y1,e3x4,e3y4) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) > commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) >= commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL)) |
        (N3C4bar=1 & N3tilde4_1=1 & N3tilde4_2=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) > commrange - (distance(e3x1,e3y1,e3x4,e3y4) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) > commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) >= commrange - (distance(e3x1,e3y1,e3x4,e3y4) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) >= commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL)) |
        (N3C4bar=1 & N3tilde4_1=1 & N3tilde4_2=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) > commrange - (distance(e3x1,e3y1,e3x4,e3y4) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) <= commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) >= commrange - (distance(e3x1,e3y1,e3x4,e3y4) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL)) |
        (N3C4bar=1 & N3tilde4_1=1 & N3tilde4_2=0 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) <= commrange - (distance(e3x1,e3y1,e3x4,e3y4) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) <= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL)) |
        (N3C4bar=1 & N3tilde4_1=1 & N3tilde4_2=0 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) > commrange - (distance(e3x1,e3y1,e3x4,e3y4) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x1,e3y1,e3x4,e3y4) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) <= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL)) |
        (N3C4bar=1 & N3tilde4_1=0 & N3tilde4_2=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) <= commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) <= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL)) |
        (N3C4bar=1 & N3tilde4_1=0 & N3tilde4_2=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) > commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) <= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL)) |
        (N3C4bar=1 & N3tilde4_1=0 & N3tilde4_2=0)
            );
            pathdist314 := commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL);
            P3F4:=1;
        } ++
/**********************************************************************************************************************************************************************************/
        {
            ?(
                (N3C4bar=1 & N3tilde4_1=1 & N3tilde4_2=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) <= commrange - (distance(e3x1,e3y1,e3x4,e3y4) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) <= commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL)) |
        (N3C4bar=1 & N3tilde4_1=1 & N3tilde4_2=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) > commrange - (distance(e3x1,e3y1,e3x4,e3y4) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) <= commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) >= commrange - (distance(e3x1,e3y1,e3x4,e3y4) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL)) |
        (N3C4bar=1 & N3tilde4_1=0 & N3tilde4_2=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) <= commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) > commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL))
            );
            pathdist314 := commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL);
            P3F4:=0;
        } ++
/**********************************************************************************************************************************************************************************/  
        {
            ?(
                (N3C4bar=1 & N3tilde4_1=1 & N3tilde4_2=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) <= commrange - (distance(e3x1,e3y1,e3x4,e3y4) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) > commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) &
                commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL)) |
        (N3C4bar=1 & N3tilde4_1=1 & N3tilde4_2=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x1,e3y1) + p2(1,3)*Vm*delta + DL) > commrange - (distance(e3x1,e3y1,e3x4,e3y4) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) > commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) >= commrange - (distance(e3x1,e3y1,e3x4,e3y4) + p1(4,3)*Vm*delta + p2(1,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) >= commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL)) |
        (N3C4bar=1 & N3tilde4_1=0 & N3tilde4_2=1 &
                commrange - (distance(x3+v3*delta,y3+w3*delta,e3x2,e3y2) + p2(2,3)*Vm*delta + DL) > commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) &
                commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL) > commrange - (distance(x3+v3*delta,y3+w3*delta,e3x4,e3y4) + p1(4,3)*Vm*delta + DL))
            );
            pathdist314 := commrange - (distance(e3x4,e3y4,e3x2,e3y2) + p1(4,3)*Vm*delta + p2(2,3)*Vm*delta + 2*DL);
            P3F4:=0;
        } ++
/**********************************************************************************************************************************************************************************/
        {
            ?(N3C4bar=0); P3F4:=0; pathdist314:=0;
        }
    }

/**********************************************************************************************************************************************************************************/
/**********************************************************************************************************************************************************************************/
    
    {
        {
            ?(
                (N3C1bar = 1 | N3C2bar = 1 | N3C4bar = 1) &
                (N3C2old=0 & e3N2C3=0)
            );
                N3C1 := N3C1old;
                N3C2 := N3C2old;
                N3C4 := N3C4old;
                P3F1 := P3F1old*N3C1;
                P3F2 := P3F2old*N3C2;
                P3F4 := P3F4old*N3C4;
        } ++
        {
            ?(
                (N3C1bar = 1 | N3C2bar = 1 | N3C4bar = 1) &
                (N3C2old = 1 | e3N2C3 = 1)
            );
           er3bar := max(min(min(pathdist321, pathdist312), pathdist314) - DL,0);   
           er3 := er3bar;      
            {
                {?(er3>0); slot3:=4;} ++
                {?(er3<=0);}
            }
        } ++
        {
            ?(N3C1bar=0 & N3C2bar=0 & N3C4bar=0);
            er3:=0; N3C1:=0; N3C2:=0; N3C4:=0; P3F1:=0; P3F2:=0; P3F4:=0;
        }
    }
    
    {
      {
        ?(er3bar<=0); 
            P3F1 := P3F1old*N3C1;
            P3F2 := P3F2old*N3C2;
            P3F4 := P3F4old*N3C4;
      }
    }
    
        unchange3:=0;
    }
  };

  HP updatea3t2 ::= {
    {
      ?(rflga3t2=1);
      /*e1x2:=xt;e1y2:=yt;
      e1N2C1:=NIC1t;               
      e1N2C3:=NIC3t;
      e1P2C1:=PIC1t;        
      e1P2C3:=PIC3t;*/        
      computea3t2;
    }
    ++
    { 
      ?(rflga3t2=0);
      N3C2:=0; P3F2:=0;
    }
  };

/***************************************************************************************************************************************************************************************************************************/

  /* We can initialize the agents in 2 configurations */
  /*initializes agents in a straight line configuration*/
  Bool inita1sl(Real v1, Real w1, Real e1x2, Real e1y2, Real N1C2,
    Real N1C3, Real P1C2, Real P1C3, Real N1tilde2, Real N1tilde3,
    Real N1C2old, Real N1C3old, Real P1C2old, Real P1C3old, Real N1C2bar,
    Real N1C3bar, Real e1N2C1, Real e1N2C3, Real e1N3C1, Real e1N3C2, Real e1P2C1, Real e1P2C3,
    Real e1P3C1, Real e1P3C2, Real er1, Real x2, Real y2
  ) <-> v1=0 & w1=0 &                                    /* set all initial velocities to 0*/
    e1x2=x2 & e1y2=y2 &                                                  /*a1 only knows of a2's position initially */
    N1C2=1 & N1C3=0 & P1C2=0 & P1C3=0 & N1tilde2=0 & N1tilde3=0 &        /* only neighbor in N1C is agent 2, and it's a first degree neighbor as indicated by setting N1tilde2=0*/ 
    N1C2old=1 & N1C3old=0 & P1C2old=0 & P1C3old=0 & N1C2bar=1 & N1C3bar=0 &             /* P1C2 will be 1 after receiving a2's transmission?*/
    e1N2C1=1 & e1N2C3=1 & e1N3C1=0 & e1N3C2=0 &                          /* a1 only knows of a2's NiC, which should include both a1 and a3*/
    e1P2C1=0 & e1P2C3=0 & e1P3C1=0 & e1P3C2=0 &                          /* PiC of other agents shou be 0 initially*/
    er1=0;                                                                /* er1 is 0 as agents are non moving initially, er1 will increase after recalculating*/

  Bool inita2sl(
    Real v2, Real w2, Real e2x1, Real e2y1, Real e2x3,
    Real e2y3, Real N2C1, Real N2C3, Real P2C1, Real P2C3, 
    Real N2tilde1, Real N2tilde3, Real N2C1old, Real N2C3old,
    Real P2C1old, Real P2C3old, Real N2C1bar, Real N2C3bar, Real e2N1C2,
    Real e2N1C3, Real e2N3C1, Real e2N3C2, Real e2P1C2, Real e2P1C3,
    Real e2P3C1, Real e2P3C2, Real er2, Real x1, Real y1, Real x3, Real y3
  ) <-> v2=0 & w2=0 &                                    /* set all initial velocities to 0*/
    e2x1=x1 & e2y1=y1 & e2x3=x3 & e2y3=y3 &                            /*a2 knows a1 and a3's positions */
    N2C1=1 & N2C3=1 & P2C1=0 & P2C3=0 & N2tilde1=0 & N2tilde3=0 &      /* a2's NiC contains both a1 and a3, both are first degree neighbors as indicated by N2tilde1=0, N2tilde3=0*/ 
    N2C1old=1 & N2C3old=1 & P2C1old=0 & P2C3old=0 & N2C1bar=1 & N2C3bar=1 &
    e2N1C2=1 & e2N1C3=0 & e2N3C1=0 & e2N3C2=1 &                          /* a2 knows of a1 and a3's NiC*/
    e2P1C2=0 & e2P1C3=0 & e2P3C1=0 & e2P3C2=0 &                          /* PiC of other agents should be 0 initially*/
    er2=0;                                                                /* er2 is 0 as agents are non moving initially, will increase after recalculating*/

  Bool inita3sl(
    Real v3, Real w3, Real e3x2, Real e3y2,
    Real N3C1, Real N3C2, Real P3C1, Real P3C2, Real N3tilde1, Real N3tilde2,
    Real N3C1old, Real N3C2old, Real P3C1old, Real P3C2old, Real N3C1bar, Real N3C2bar,
    Real e3N1C2, Real e3N1C3, Real e3N2C1, Real e3N2C3,
    Real e3P1C2, Real e3P1C3, Real e3P2C1, Real e3P2C3, Real er3, Real x2, Real y2
  ) <-> v3=0 & w3=0 &                                    /* set all initial velocities to 0*/
    e3x2=x2 & e3y2=y2 &                                                 /*a3 knows a2's positions */
    N3C1=0 & N3C2=1 & P3C1=0 & P3C2=0 & N3tilde1=0 & N3tilde2=0 &      /* a3's NiC contains a2, first degree neighbors as indicated by N3tilde2=0, N2tilde3=0*/ 
    N3C1old=0 & N3C2old=1 & P3C1old=0 & P3C2old=0 & N3C1bar=0 & N3C2bar=1 &
    e3N1C2=0 & e3N1C3=0 & e3N2C1=1 & e3N2C3=1 &                          /* a3 knows of a2's NiC*/
    e3P1C2=0 & e3P1C3=0 & e3P2C1=0 & e3P2C3=0 &                          /* PiC of other agents should be 0 initially*/
    er3=0;                                                                /* er3 is 0 as agents are non moving initially, will increase after recalculating*/

  /*initializes agents in a triangle configuration*/
  Bool inita1tr(
    Real v1, Real w1, Real e1x2, Real e1y2, Real e1x3,
    Real e1y3, Real N1C2, Real N1C3, Real P1C2, Real P1C3,
    Real N1tilde2, Real N1tilde3, Real e1N2C1, Real e1N2C3,
    Real e1N3C1, Real e1N3C2, Real e1P2C1, Real e1P2C3, Real e1P3C1,
    Real e1P3C2, Real er1
  ) <-> v1=0 & w1=0 &                                    /* set all initial velocities to 0*/
    e1x2=x2 & e1y2=y2 & e1x3=x3 & e1y3=y3 &                            /*a1 only knows of a2 and a3's position initially */
    N1C2=1 & N1C3=1 & P1C2=0 & P1C3=0 & N1tilde2=0 & N1tilde3=0 &      /* first degree neighbors are a2,a3
                                                                       /* P1C2 will be 1 after receiving a2's transmission?*/
    e1N2C1=1 & e1N2C3=1 & e1N3C1=1 & e1N3C2=1 &                          /* a1 only knows of a2 and a3's NiC,*/
    e1P2C1=0 & e1P2C3=0 & e1P3C1=0 & e1P3C2=0 &                          /* PiC of other agents should be 0 initially*/
    er1=0;                                                                /* er1 is 0 as agents are non moving initially, will increase after recalculating*/

  /*Bool inita2tr() <-> v2=0 & w2=0 &     */                               /* set all initial velocities to 0*/
    /*e2x1=x1 & e2y1=y1 & e2x3=x3 & e2y3=y3 &  */                          /*a2 knows a1 and a3's positions */
    /*N2C1=1 & N2C3=1 & P2C1=0 & P2C3=0 & N2tilde1=0 & N2tilde3=0 &   */   /* a2's NiC contains both a1 and a3, both are first degree neighbors as indicated by N2tilde1=0, N2tilde3=0*/ 
    /*e2N1C2=1 & e2N1C3=1 & e2N3C1=1 & e2N3C2=1 &    */                      /* a2 knows of a1 and a3's NiC*/
    /*e2P1C2=0 & e2P1C3=0 & e2P3C1=0 & e2P3C2=0 & */                         /* PiC of other agents should be 0 initially*/
    /*er2=0;*/                                                                /* er2 is 0 as agents are non moving initially, will increase after recalculating*/

  /*Bool inita3tr() <-> v3=0 & w3=0 &     */                               /* set all initial velocities to 0*/
    /*e3x2=x2 & e3y2=y2 & e3x1=x1 & e3y1=y1 &*/                             /*a3 knows a1 and a2's positions */
    /*N3C1=1 & N3C2=1 & P3C1=0 & P3C2=0 & N3tilde1=0 & N3tilde2=0 & */     /* a3's NiC contains a2 and a1, first degree neighbors as indicated by N3tilde2=0, N2tilde3=0*/ 
    /*e3N1C2=1 & e3N1C3=1 & e3N2C1=1 & e3N2C3=1 &  */                        /* a3 knows of a1 and a2's NiC*/
    /*e3P1C2=0 & e3P1C3=0 & e3P2C1=0 & e3P2C3=0 &    */                      /* PiC of other agents should be 0 initially*/
    /*er3=0;          */                                                      /* er3 is 0 as agents are non moving initially, will increase after recalculating*/  
    
  /*Bool l3invariant1() <-> (A3FN1=0 | slot3=0 | rflga3t1=0 | (A3FN1=1 & (slot3=1 | slot3=2 | slot3=3) & distance(x1,y1,x3,y3) <= commrange - slot3*er3/n - slot3*Vm*delta));
  
  Bool l3invariant1o() <-> (A3FN1=0 | slot3=0 | rflga3t1=0 | (A3FN1=1 & (slot3=1 | slot3=2 | slot3=3) & distance(x1,y1,x3o,y3o) <= commrange));
  
  Bool l3invariant2() <-> ((slot31=0 & slot3>=0) | (slot31=1 & slot3=3) | (slot31=2 & slot3>=2) | (slot31=3 & slot3>=1));
  
  Bool l3invariant3() <-> ((slot31=0) | ((slot31=1 | slot31=2) & distance(x1,y1,x3,y3) <= commrange) | (slot31=3 & distance(x1,y1,x3,y3) <= commrange & N1C3=1));
  
  Bool l4invariant1() <-> ((slot1=4)|(slot1=0)|(flgl4=0)|(flgl4=1)|(slot1+flgl4!=5)|
  ((slot1=3|slot1=2|slot1=1)&(flgl4=2|flgl4=3|flgl4=4)&(slot1+flgl4=5)&distance(x1,y1,x2,y2)<=commrange-slot1*er1/n-slot1*Vm^2*delta^2 & 
  (distance(x2,y2,x3,y3)<=commrange - (2*slot1)*Vm^2*delta^2)));
  
  Bool l4invariant1a() <-> ((slot1=4)|(slot1=0)|(flgl4=0)|(flgl4=1)|(slot1+flgl4!=5)|
  ((slot1=3|slot1=2|slot1=1)&(flgl4=2|flgl4=3|flgl4=4)&(slot1+flgl4=5)&distance(x1,y1,x2,y2)<=commrange-slot1*er1/n-slot1*Vm*delta & 
  (distance(x2o,y2o,x3,y3)<=commrange - (2*slot1)*Vm*delta)));

  Bool l4invariant2() <-> ((slot1=4)|(slot1=0)|(flgl4=0)|(flgl4=1)|(e1N2C3=0)|(e1N3C2=0)|(flgl4+slot1!=5)| (slot1<4 & slot1>0 & flgl4>1 & (flgl4+slot1=5) & N2C3=1 & N3C2=1));

  Bool l4invariant3() <-> ((slot1=4)|(slot1=0)|(flgl4=0)|(flgl4=1)|(slot12!=3)|(flgl4+slot1!=5)|(slot1<4 & slot1>0 & flgl4>1 & (flgl4+slot1=5) & slot12=3 & N2C1=1));*/

  Bool l5invariant1(Real N1C3, Real slot1, Real flgl4, Real N3C2, Real N2C3, Real N1C2) <-> 
  (
      slot1=0 | slot1=4 | flgl4<=1 | flgl4+slot1!=5 | (flgl4>1 & (slot1=1|slot1=2|slot1=3) & flgl4+slot1=5 & (N1C3=0|N1C3=1) & N3C2=1 & N2C3=1 & N1C2=1)
  );
  
  Bool l5invariant2(Real N1C3, Real slot1, Real flgl4, Real N2C1, Real slot12)<->
  (
      slot1=0 | slot1=4 | flgl4<=1 | flgl4+slot1!=5 | slot12 < 3 |(flgl4>1 & (slot1=1|slot1=2|slot1=3) & flgl4+slot1=5 & (N1C3=0|N1C3=1)& slot12=3 & N2C1=1)
  );
  
  Bool l6invariant1(Real N3C1,Real slot1, Real flgl4, Real v3, Real w3, Real N1C2, Real N2C3, Real N3C2, Real e1N2C3, Real e1N3C2)<->
  (
      slot1=0 | slot1=4 | flgl4<=1 | v3!=0 | w3!=0 | flgl4+slot1!=5 | e1N2C3=0 | e1N3C2=0 | (flgl4>1 & (slot1=1|slot1=2|slot1=3) & flgl4+slot1=5 & v3=0 & w3=0 & (N3C1=0|N3C1=1) & N1C2=1 & N2C3=1 & N3C2=1)  
  );
  
  Bool l6invariant2(Real N3C1,Real slot1, Real flgl4, Real v3, Real w3, Real x1, Real y1, Real x2, Real y2, Real commrange, Real er1, Real n, Real Vm, Real delta)<->
  (
      slot1=0 | slot1=4 | flgl4<=1 | v3!=0 | w3!=0 | flgl4+slot1!=5| (flgl4>1 & (slot1=1|slot1=2|slot1=3) & 
      flgl4+slot1=5 & v3=0 & w3=0 & (N3C1=0|N3C1=1) & distance(x1,y1,x2,y2)<=commrange-slot1*(er1/n)-slot1*Vm^2*delta^2)
  );
  
  Bool l6invariant3(Real N3C1,Real slot1, Real flgl4, Real v3, Real w3, Real slot12, Real N2C1)<->
  (
      slot1=0 | slot1=4 | flgl4<=1 | v3!=0 | w3!=0 | flgl4+slot1!=5| slot12<3 | (flgl4>1 & (slot1=1|slot1=2|slot1=3) & flgl4+slot1=5 & v3=0 & w3=0 & (N3C1=0|N3C1=1) & slot12=3 & N2C1=1)
  );
  

  Bool a3typechecking(
    Real N3C1, Real N3C2, Real P3C1, Real P3C2, Real e3N1C2, Real e3N1C3, Real e3N2C1, Real e3N2C3,
    Real e3P1C2, Real e3P1C3, Real e3P2C1, Real e3P2C3, Real er3, Real commrange, Real n, Real delta, Real Vm
  ) <-> ((N3C1=0 | N3C1=1) & (N3C2=0 | N3C2=1) & (P3C1=0 | P3C1=1) & (P3C2=0 | P3C2=1) & (e3N1C2=0 | e3N1C2=1) & (e3N1C3=0 | e3N1C3=1) & (e3N2C1=0 | e3N2C1=1) & (e3N2C3=0|e3N2C3=1) &
  (e3P1C2=0|e3P1C2=1) & (e3P1C3=0|e3P1C3=1) & (e3P2C1=0|e3P2C1=1) & (e3P2C3=0|e3P2C3=1) & er3<=commrange  & er3/(n*delta)<=Vm);
  
  Bool a1typechecking(
    Real N1C2, Real N1C3, Real e1N2C1, Real e1N2C3, Real e1N3C1, Real e1N3C2, Real e1P2C1,
    Real e1P2C3, Real e1P3C1, Real e1P3C2, Real er1, Real commrange, Real n, Real delta, Real Vm, Real rflga1t3, Real P1C3, 
    Real P1C2, Real slot1
  ) <-> ((N1C2=0 | N1C2=1)& (N1C3=0 | N1C3=1) & (e1N2C1=0 | e1N2C1=1)  & (e1N2C3=0|e1N2C3=1) & (e1N3C1=0|e1N3C1=1)& (e1N3C2=0|e1N3C2=1) &
  (e1P2C1=0|e1P2C1=1) & (e1P2C3=0|e1P2C3=1)& (e1P3C1=0|e1P3C1=1) & (e1P3C2=0|e1P3C2=1) & er1<=commrange & er1/(n*delta)<=Vm & (rflga1t3=0|rflga1t3=1) & (P1C3=0|P1C3=1) & (P1C2=0|P1C2=1) & (slot1=0|slot1=1|slot1=2|slot1=3|slot1=4));

  Bool varstypechecking(Real flgl4, Real transmitter) <-> ((flgl4>=0 & flgl4<=4) & (transmitter=1|transmitter=2|transmitter=3));

  /* constrain the distances so that a1 and a2 are connected, a2 and a3 are connected, and a1 and a3 are not connected*/
  Bool initdistancesstraightline(
      Real x1, Real y1, Real x2, Real y2, Real x3, Real y3, Real commrange
  ) <-> (distance(x1,y1,x2,y2)<=commrange & distance(x3,y3,x2,y2)<=commrange & distance(x1,y1,x3,y3)>commrange);

  /* constrain the distances so that a1 and a2 are connected, a2 and a3 are connected, and a1 and a3 are connected*/
  /*Bool initdistancestriangle() <-> (distance(x1,y1,x2,y2)<=commrange & distance(x3,y3,x2,y2)<=commrange & distance(x1,y1,x3,y3)<=commrange);*/
  
  Bool varinitsl(
    Real slot3, Real slot31, Real trflg1, Real flgN31, Real new31, Real xt, Real yt,
    Real x1, Real y1, Real Vm, Real trflg3, Real rflga1t3, Real flgl4, Real slot1     
  ) <-> (slot3=0 & slot31=0 & trflg1=1 & flgN31=0 & new31=0 & xt=x1 & yt=y1 & Vm>0 & trflg3=0 & rflga1t3=0 & flgl4=0 & slot1=0);

  Bool initsl(
    Real transmitter, Real time, Real n, Real delta, Real commrange, Real velocityflag, 
    Real v1, Real w1, Real e1x2, Real e1y2, Real N1C2,
    Real N1C3, Real P1C2, Real P1C3, Real N1tilde2, Real N1tilde3,
    Real N1C2old, Real N1C3old, Real P1C2old, Real P1C3old, Real N1C2bar,
    Real N1C3bar, Real e1N2C1, Real e1N2C3, Real e1N3C1, Real e1N3C2, Real e1P2C1, Real e1P2C3,
    Real e1P3C1, Real e1P3C2, Real er1,
    Real v2, Real w2, Real e2x1, Real e2y1, Real e2x3,
    Real e2y3, Real N2C1, Real N2C3, Real P2C1, Real P2C3, 
    Real N2tilde1, Real N2tilde3, Real N2C1old, Real N2C3old,
    Real P2C1old, Real P2C3old, Real N2C1bar, Real N2C3bar, Real e2N1C2,
    Real e2N1C3, Real e2N3C1, Real e2N3C2, Real e2P1C2, Real e2P1C3,
    Real e2P3C1, Real e2P3C2, Real er2,
    Real v3, Real w3, Real e3x2, Real e3y2,
    Real N3C1, Real N3C2, Real P3C1, Real P3C2, Real N3tilde1, Real N3tilde2,
    Real N3C1old, Real N3C2old, Real P3C1old, Real P3C2old, Real N3C1bar, Real N3C2bar,
    Real e3N1C2, Real e3N1C3, Real e3N2C1, Real e3N2C3,
    Real e3P1C2, Real e3P1C3, Real e3P2C1, Real e3P2C3, Real er3
    Real x1, Real y1, Real x2, Real y2, Real x3, Real y3,
    Real slot3, Real slot31, Real trflg1, Real flgN31, Real new31, Real xt, Real yt,
    Real Vm, Real trflg3, Real rflga1t3, Real flgl4, Real slot1     
  ) <-> (
      transmitter=1 & time=10 & n=3 & delta = 10 & commrange=100 & velocityflag=0 &
      inita1sl( 
            v1, w1, e1x2, e1y2, N1C2,
            N1C3,  P1C2, P1C3, N1tilde2, N1tilde3,
            N1C2old, N1C3old, P1C2old, P1C3old, N1C2bar,
            N1C3bar, e1N2C1, e1N2C3, e1N3C1, e1N3C2, e1P2C1, e1P2C3,
            e1P3C1, e1P3C2, er1, x2, y2
     ) &
      inita2sl(
            v2, w2, e2x1, e2y1, e2x3,
            e2y3, N2C1, N2C3, P2C1, P2C3, 
            N2tilde1, N2tilde3, N2C1old, N2C3old,
            P2C1old, P2C3old, N2C1bar, N2C3bar, e2N1C2,
            e2N1C3, e2N3C1, e2N3C2, e2P1C2, e2P1C3,
            e2P3C1, e2P3C2, er2, x1, y1, x3, y3
          ) & 
      inita3sl(
            v3, w3, e3x2, e3y2,
            N3C1, N3C2,  P3C1, P3C2,  N3tilde1, N3tilde2,
            N3C1old, N3C2old, P3C1old, P3C2old, N3C1bar, N3C2bar,
            e3N1C2, e3N1C3, e3N2C1,  e3N2C3,
            e3P1C2, e3P1C3,  e3P2C1, e3P2C3, er3, x2, y2
          ) &
      initdistancesstraightline(x1, y1, x2, y2, x3, y3, commrange) & 
      varinitsl(slot3, slot31, trflg1, flgN31, new31, xt, yt,
      x1, y1, Vm, trflg3, rflga1t3, flgl4, slot1));
  
  /*Bool inittriangle() <-> (transmitter=1 & time=10 & n=3 & delta = 10 & commrange=100 & velocityflag=0 & inita1tr() & inita2tr() & inita3tr() & initdistancestriangle());*/

End.



ProgramVariables

  Real x1, y1, x2, y2, x3, y3;
  Real N1C2, N1C3, N1C4, P1C2, P1C3, P1F2, P1F3, P1F4;
  Real N1tilde2, N1tilde3, N1tilde3_2, N1tilde3_4, N1C2bar, N1C3bar, N1C4bar;
  Real Vm, v1, w1, N1C2old, N1C3old, P1C2old, P1C3old;
  Real e1x2, e1y2, e1x3, e1y3, e1N2C1, e1N2C3, e1N3C1, e1N3C2;
  Real e1P2C1, e1P2C3, e1P3C1, e1P3C2;
  Real pathdist123, pathdist132, pathdist124;
  Real er1bar, er1;

  Real N2C1, N2C3, P2C1, P2C3;
  Real N2tilde1, N2tilde3, N2C1bar, N2C3bar;
  Real v2, w2, N2C1old, N2C3old, P2C1old, P2C3old;
  Real e2x1, e2y1, e2x3, e2y3, e2N1C2, e2N1C3, e2N3C1, e2N3C2;
  Real e2P1C2, e2P1C3, e2P3C1, e2P3C2;
  Real pathdist213, pathdist231;
  Real er2bar, er2;
  
  Real N3C1, N3C2, P3C1, P3C2;
  Real N3tilde1, N3tilde2, N3C2bar, N3C1bar;
  Real v3, w3, N3C1old, N3C2old, P3C1old, P3C2old;
  Real e3x2, e3y2, e3x1, e3y1, e3N2C1, e3N2C3, e3N1C2, e3N1C3;
  Real e3P2C1, e3P2C3, e3P1C2, e3P1C3;
  Real pathdist312, pathdist321;
  Real er3bar, er3, t, time;
  Real x1o, y1o, x2o, y2o, x3o, y3o, timeo;

  /*Transmitted coordinates*/
  Real xt, yt, vt, wt, NIC1t, NIC2t, NIC3t, PIC1t, PIC2t, PIC3t, transmitter;
  Real pathdist123A, pathdist123B, pathdist132A, pathdist132B, pathdist231A, pathdist231B;
  Real pathdist213A, pathdist213B, pathdist321A, pathdist321B, pathdist312A, pathdist312B;

  /*additional variables*/
  Real omega1, omega2, omega3, unchange1, unchange2, unchange3, commrange, velocityflag, delta, n;
  /*Real n, delta, commrange, DL; */
  Real A1moving, A2moving, A3moving, A1FN2, A1FN3, A1FN4, A2FN1, A2FN3, A3FN1, A3FN2;
  Real trflg1, trflg2, trflg3, rflga2t1, rflga3t1, rflga1t2, rflga3t2, rflga1t3, rflga2t3, er1old, er2old, er3old;
  Real new31, flgN31old, flgN31, slot3, slot31; 
  Real new12, slot1, slot12, flgl4, transmit23; /*initialize flgl4 to 0, set to 1 whenever slot1=3&N1C3=1&N1C2=1&A1FN3=0*/
  
  
End.


Problem

  
  initsl(
       transmitter,  time,  n,  delta,  commrange,  velocityflag, 
     v1, w1,  e1x2,  e1y2,  N1C2,
     N1C3,  P1C2,  P1C3,  N1tilde2,  N1tilde3,
     N1C2old,  N1C3old,  P1C2old,  P1C3old,  N1C2bar,
     N1C3bar,  e1N2C1,  e1N2C3,  e1N3C1,  e1N3C2,  e1P2C1,  e1P2C3,
     e1P3C1,  e1P3C2,  er1,
     v2,  w2,  e2x1,  e2y1,  e2x3,
     e2y3,  N2C1,  N2C3,  P2C1,  P2C3, 
     N2tilde1,  N2tilde3,  N2C1old,  N2C3old,
     P2C1old,  P2C3old,  N2C1bar,  N2C3bar,  e2N1C2,
     e2N1C3,  e2N3C1,  e2N3C2,  e2P1C2,  e2P1C3,
     e2P3C1,  e2P3C2,  er2,
     v3,  w3,  e3x2,  e3y2,
     N3C1,  N3C2,  P3C1,  P3C2,  N3tilde1,  N3tilde2,
     N3C1old,  N3C2old,  P3C1old,  P3C2old,  N3C1bar,  N3C2bar,
     e3N1C2,  e3N1C3,  e3N2C1,  e3N2C3,
     e3P1C2,  e3P1C3,  e3P2C1,  e3P2C3,  er3,
     x1,  y1,  x2,  y2,  x3,  y3,
     slot3,  slot31,  trflg1,  flgN31,  new31,  xt,  yt,
     Vm,  trflg3,  rflga1t3,  flgl4,  slot1 
      ) ->                          
  [{discreteprogram;continuousprogram;}*
  @invariant(a1typechecking(N1C2,  N1C3,  e1N2C1,  e1N2C3,  e1N3C1,  e1N3C2,  e1P2C1,
     e1P2C3,  e1P3C1,  e1P3C2,  er1,  commrange,  n,  delta,  Vm,  rflga1t3,  P1C3, 
     P1C2,  slot1) &
     a3typechecking(N3C1,  N3C2,  P3C1,  P3C2,  e3N1C2,  e3N1C3,  e3N2C1,  e3N2C3,
     e3P1C2,  e3P1C3,  e3P2C1,  e3P2C3,  er3,  commrange,  n,  delta,  Vm) &
     varstypechecking(flgl4, transmitter) & 
     l6invariant1( N3C1, slot1,  flgl4,  v3,  w3,  N1C2,  N2C3,  N3C2,e1N2C3, e1N3C2) &
     l6invariant2( N3C1, slot1,  flgl4,  v3,  w3,  x1,  y1,  x2,  y2,  commrange,  er1,  n,  Vm,  delta)&
     l6invariant3( N3C1, slot1,  flgl4,  v3,  w3,  slot12, N2C1)
    )
  ]
  (l6invariant1(N3C1, slot1,  flgl4,  v3,  w3,  N1C2,  N2C3,  N3C2, e1N2C3, e1N3C2)&
  l6invariant2( N3C1, slot1,  flgl4,  v3,  w3,  x1,  y1,  x2,  y2,  commrange,  er1,  n,  Vm,  delta)&
  l6invariant3( N3C1, slot1,  flgl4,  v3,  w3,  slot12, N2C1))
End.



End.
